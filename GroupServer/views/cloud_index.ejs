<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Transtopia - 云盘</title>
		<!-- Tell the browser to be responsive to screen width -->
		<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	</head>
    
	<body class="customized-scrollbar">
		<!-- 置顶一级导航栏 -->
		<div class="nav-top">
			<div id="firstNavTop"></div>
			<div id="secondNavTop"></div>
		</div>
		
		<!-- 主要展示框 -->
		<div id="mainBlock"></div>
		
		<!-- 右下角按钮组 -->
		<div id="btngroup-rightbot">
		</div>
		
		<div class="modal fade" id="test">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-body">
						<div class="main-content">
							<div class="modal-header" style="padding: 0 0 15px 0;">
								<button type="button" class="close" data-dismiss="modal">×</button>
								<h4 class="modal-title">分享设置</h4>
							</div>
							
							<div class="box">
								<div class="box-header">
									<span class="box-title" style="font-size: 18px;"><i class="fa fa-users"></i> 成员名单</span>
									<span class="box-title pull-right" >
										<a href="javascript: void(0);" style="padding-right: 5px;" data-adduser><i class="fa fa-plus"></i></a>
										<a href="javascript: void(0);"><i class="fa fa-trash"></i></a>
									</span>
								</div>
								
								<div class="box-body">
									<table id="example1" class="table table-bordered table-striped hover">
										<thead>
											<tr>
												<th style="width: 30px;"><input type="checkbox" name="selectall"></th>
												<th>用户</th>
												<th style="width: 150px;">权限</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td><input type="checkbox" name="c1"></td>
												<td>
												<img src="http://127.0.0.1:3000/dist/img/avatar.png" style="height:40px; border-radius: 50%; border: 0.08em solid rgba(0,0,0,0.3);"> 
												<span style="padding-left: 10px;">张震宇</span>
												</td>
												<td>
													<a href="javascript: void(0);" data-authority><i class="fa fa-eye"></i> 可读</a>
													<select style="display: none;">
														<option value="volvo"><i class="fa fa-eye"></i> 可读</option>
														<option value="saab" selected><i class="fa fa-pencil"></i> 可读写</option>
													</select>
												</td>
											</tr>
											<tr>
												<td><input type="checkbox" name="c1"></td>
												<td>
													<img src="http://127.0.0.1:3000/dist/img/avatar2.png" style="height:40px; border-radius: 50%; border: 0.08em solid rgba(0,0,0,0.3);"> 
													<span style="padding-left: 10px;">刘强</span>
												</td>
												<td>
													<a href="javascript: void(0);" data-authority><i class="fa fa-pencil"></i> 可读写</a>
													<select style="display: none;">
														<option value="volvo"><i class="fa fa-eye"></i> 可读</option>
														<option value="saab" selected><i class="fa fa-pencil"></i> 可读写</option>
													</select>
												</td>
											</tr>
											<tr>
												<td><input type="checkbox" name="c1"></td>
												<td>
													<img src="http://127.0.0.1:3000/dist/img/avatar3.png" style="height:40px; border-radius: 50%; border: 0.08em solid rgba(0,0,0,0.3);"> 
													<span style="padding-left: 10px;">陈宏</span>
												</td>
												<td>
													<a href="javascript: void(0);" data-authority><i class="fa fa-pencil"></i> 可读写</a>
													<select style="display: none;">
														<option value="volvo"><i class="fa fa-eye"></i> 可读</option>
														<option value="saab" selected><i class="fa fa-pencil"></i> 可读写</option>
													</select>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
							
						</div>
					</div>
					<div class="modal-footer">
						<a href="javascript: void(0);" data-action="submit">确定</a>
						<a href="javascript: void(0);" data-dismiss="modal">关闭</a>
					</div>
				</div>
			</div>
		</div>
		
		<style>
		#example1_wrapper .pagination {
			float: right;
		}
		#example1_wrapper .dataTables_info{

		}
		#example1_wrapper .row{
			margin-top: 15px;
		}
		#example1_wrapper .selected{
			background-color: rgba(172,186,212, 1);
		}
		#example1_filter label {
			float:right;
		}
		</style>
		
	</body>
	
	<!-- 插件与样式 -->
	<!-- jQuery	 -->
	<script src="plugins/jQuery/jquery-2.2.3.min.js"></script>
	
	<!-- jQuery-UI -->
	<script src="plugins/jQueryUI/jquery-ui.min.js"></script>
	
	<!-- Bootstrap 3.3.6 -->
	<link rel="stylesheet" href="plugins/bootstrap-3.3.6/css/bootstrap.min.css" />
	<script src="plugins/bootstrap-3.3.6/js/bootstrap.min.js"></script>
	
	<!-- AdminLTE App -->
	<!-- <link rel="stylesheet" href="plugins/AdminLTE-2.3.11/css/AdminLTE.min.css" />
	<link rel="stylesheet" href="plugins/AdminLTE-2.3.11/css/skins/_all-skins.min.css" />
	<script src="plugins/AdminLTE-2.3.11/js/app.min.js"></script> -->
	
	<!-- DataTables -->
	<script src="plugins/datatables/jquery.dataTables.min.js"></script>
	<script src="plugins/datatables/dataTables.bootstrap.min.js"></script>
	
	<!-- Slimscroll -->
	<script src="plugins/slimScroll/jquery.slimscroll.min.js"></script>
	
	<!-- bootstrap-fileinput -->
	<link href="plugins/bootstrap-fileinput/css/fileinput.css" media="all" rel="stylesheet" type="text/css" />
	<link href="plugins/bootstrap-fileinput/themes/explorer/theme.css" media="all" rel="stylesheet" type="text/css" />
	<script src="plugins/bootstrap-fileinput/js/plugins/sortable.js" type="text/javascript"></script>
	<script src="plugins/bootstrap-fileinput/js/fileinput.js" type="text/javascript"></script>
	<script src="plugins/bootstrap-fileinput/themes/explorer/theme.js" type="text/javascript"></script>
	<script src="plugins/bootstrap-fileinput/js/locales/zh.js" type="text/javascript"></script>
	
	<!-- icheck -->
	<link rel="stylesheet" href="plugins/iCheck/all.css">
	<script src="plugins/iCheck/icheck.min.js"></script>
	
	<!-- Select 2 -->
	<link href="plugins/select2/select2.min.css" rel="stylesheet" />
	<link href="plugins/select2/select2-bootstrap.css" rel="stylesheet" />
	<script src="plugins/select2/select2.full.min.js"></script>
	<script src="plugins/select2/i18n/zh-CN.js"></script>
	
	<!-- JQuery Confirm -->
	<link rel="stylesheet" href="plugins/jquery-confirm/jquery-confirm.min.css">
	<script src="plugins/jquery-confirm/jquery-confirm.min.js"></script>
	
	<!-- Google Font -->
	<link href="plugins/material-icons/icon.css" rel="stylesheet">
	
	<!-- Font Awesome -->
	<link rel="stylesheet" href="plugins/font-awesome-4.7.0/css/font-awesome.min.css" />
	
	<!-- bootstrap-wysiwyg -->
	<!-- <link href="plugins/bootstrap-wysiwyg/external/google-code-prettify/prettify.css" rel="stylesheet">
	<script src="plugins/bootstrap-wysiwyg/external/jquery.hotkeys.js"></script>
	<script src="plugins/bootstrap-wysiwyg/external/google-code-prettify/prettify.js"></script>
	<script src="plugins/bootstrap-wysiwyg/bootstrap-wysiwyg.js"></script> -->
	
	
	<!-- <link href="plugins/contextMenu.js-master/contextMenu.min.css" rel="stylesheet">
	<script src="plugins/contextMenu.js-master/contextMenu.js"></script> -->
	
	<!-- jquery download -->
	<!-- <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/themes/ui-lightness/jquery-ui.css" rel="stylesheet" type="text/css" /> -->
	<!-- <link href="plugins/jquery-download/Content/Site.css" rel="stylesheet" type="text/css" /> -->
	<!-- <script src="plugins/jquery-download/Scripts/jquery.fileDownload.js" type="text/javascript"></script> -->
	<!-- <script type="text/javascript" src="plugins/jquery-download/Scripts/Support/shCore.js"></script>
	<script type="text/javascript" src="plugins/jquery-download/Scripts/Support/shBrushJScript.js"></script>
	<script type="text/javascript" src="plugins/jquery-download/Scripts/Support/shBrushXml.js"></script>
	<link type="text/css" rel="stylesheet" href="plugins/jquery-download/Content/shCoreDefault.css" />
	<script type="text/javascript" src="plugins/jquery-download/Scripts/Support/jquery.gritter.min.js"></script>
	<link type="text/css" rel="stylesheet" href="plugins/jquery-download/Content/jquery.gritter.css" /> -->
	
	
	<!-- 自定义插件与样式 -->
	<!-- DAO -->
	<script src="js_gamma/proxy.js"></script>
	
	<!-- 插件 -->
	<script src="js_gamma/gear.js"></script>
	
	<!-- Static -->
	<script src="js_gamma/static.js"></script>
	
	<!-- Module -->
	<script src="js_gamma/module.js"></script>
	
	<!-- 全局css -->
	<link href="css_gamma/global.css" rel="stylesheet">
	
	<!-- 自定义插件 -->
	<!-- TwinRow -->
	<script src="js_gamma/twinrow.js"></script>
	<link href="css_gamma/twinrow.css" rel="stylesheet">
	<!-- SelectBox -->
	<script src="js_gamma/selectbox.js"></script>
	<link href="css_gamma/selectbox.css" rel="stylesheet">
	
	
	<!-- 文件 -->
	<script src="js_gamma/filesystem.js"></script>
	<link href="css_gamma/filesystem.css" rel="stylesheet">
	<!-- 测试 -->
	<script src="js_gamma/test_data.js"></script>

	
	
	
	<script>
	const DATATABLE_ZH = {
		"sProcessing":   "处理中...",
		"sLengthMenu":   "显示 _MENU_ 项结果",
		"sZeroRecords":  "没有匹配结果",
		"sInfo":         "显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",
		"sInfoEmpty":    "显示第 0 至 0 项结果，共 0 项",
		"sInfoFiltered": "(由 _MAX_ 项结果过滤)",
		"sInfoPostFix":  "",
		"sSearch":       "搜索:",
		"sUrl":          "",
		"sEmptyTable":     "表中数据为空",
		"sLoadingRecords": "载入中...",
		"sInfoThousands":  ",",
		"oPaginate": {
				"sFirst":    "首页",
				"sPrevious": "上页",
				"sNext":     "下页",
				"sLast":     "末页"
		},
		"oAria": {
				"sSortAscending":  ": 以升序排列此列",
				"sSortDescending": ": 以降序排列此列"
		}
	};
	
	var table = $("#example1").DataTable(
		{
			"language": DATATABLE_ZH
		}
	);
	
	$('#example1 tbody').on( 'click', 'input', function (ev) {
		$(this).closest('tr').toggleClass('selected');
	});
	
	
	$('#example1 tbody').on( 'focusout', 'select', function (ev) {
		$(this).hide();
		$(this).prev('[data-authority]').show();
	});
	
	$('#example1 tbody').on( 'click', '[data-authority]', function (ev) {
		$(this).hide();
		$(this).next('select')
			.show()
			.focus();
	});
	
	$('#example1 thead').on( 'click', '[name="selectall"]', function (ev) {
		$('#example1 tbody input').click();
	});
	
	
	
	table.row.add([
			'<input type="checkbox">',
			
			'<img src="http://127.0.0.1:3000/dist/img/avatar.png" style="height:40px; border-radius: 50%; border: 0.08em solid rgba(0,0,0,0.3);">\n' +
			'<span style="padding-left: 10px;">张震宇</span>',
			
			'<a href="javascript: void(0);" data-authority><i class="fa fa-eye"></i> 可读</a>\n' +
			'<select style="display: none;">\n' +
			'	<option value="volvo"><i class="fa fa-eye"></i> 可读</option>\n' +
			'	<option value="saab" selected><i class="fa fa-pencil"></i> 可读写</option>\n' +
			'</select>'
		]).draw( false );
	
	
	table
    .order( [ 2, 'asc' ])
    .draw();
	/*
	var order = table.order();
 
	alert( 'Column '+order[0][0]+' is the ordering column' );
	*/
	
	//$('#example1 tbody input').attr('disabled', 1);
	
	
	
	
	//$('#test').modal('show');
	

	
	
	
	
	/*
	$.get('http://127.0.0.1:3000/dist/img/controller.js', function(data) {
		$('#abc').html(data);
	}); */
	
	var FNT = new FirstNavTop();
	FNT.setBrand(dataBrand.name, dataBrand.href);
	FNT.appendCollapseBtn();
	FNT.appendPage('私人');
	FNT.appendNav(dataNav1);
	//FNT.setLeftBtnList(dataNavLink);
	$('#firstNavTop').append(FNT.getModule());
	
	var SNT = new SecondNavTop();
	var dirNav = new DirNav();
	SNT.appendNav(dirNav.getModule());
	SNT.appendNav(dataNav3);
	$('#secondNavTop').append(SNT.getModule());
	
	var LC = new LeftCollapse();
	LC.setBrand(dataBrand.name, dataBrand.href);
	LC.setNav(LEFT_COLLAPSE);
	$('body').append(LC.getModule());
	
	
	
	
	var MB_FS = new MiddleBlock_FS(dirNav);
	dirNav.setBase({id: '1', name: '我的云盘'}, MB_FS.openFolder);
	MB_FS.openFolder(1);
	
	var LB_FS = new LeftBlock_FS(MB_FS, dirNav);
	LB_FS.setNav(NAV_LEFT_FS_INDIVIDUAL);
	
	var RB_FS = new RightBlock_FS();

	var MB = new MainBlock();
	LB_FS.getModule().find('.content').css('height', 'calc(100vh - 102px)');
	MB.add(LB_FS.getModule());
	LB_FS.getToggleBtn().find('.content').css('height', 'calc(100vh - 102px)');
	MB.add(LB_FS.getToggleBtn());
	
	MB_FS.getModule().find('.content').css('height', 'calc(100vh - 102px)');
	MB.add(MB_FS.getModule());
	
	RB_FS.getModule().find('.content').css('height', 'calc(100vh - 102px)');
	MB.add(RB_FS.getModule());
	
	
	$('[data-type="left-list"] [data-ation="toggle"]').click(function(){
		RB_FS.toggle();
	});
	
	$('#mainBlock').append(MB.getModule());
	

	
	//LinkBox();
	//updateFile();
	$('.note-toggle').click(function(){
		var isEmpty = $('.note').attr('data-empty');
		if(isEmpty == 1){
			// do something
		}else{
			var text = $('.note').text();
			$('.note-textarea').val(text);
		}
		$('.note, .note-toggle').hide();
		$('.note-textarea').show();
	});
	
	$(".note-textarea").on('keydown', function (e) {
		if (e.keyCode == 13) {
			var text = $(this).val();
			if(text == ""){
				$('.note').text('添加备注');
				$('.note').attr('data-empty', 1);
			}else{
				$('.note').attr('data-empty', 0);
				$('.note').text(text);
			}
			$('.note, .note-toggle').show();
			$('.note-textarea').hide();
		}
	});
	</script>
</html>


