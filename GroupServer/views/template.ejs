<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>###</title>
		<!-- Tell the browser to be responsive to screen width -->
		<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
		
		
		<!-- 插件与样式 -->
		<!-- jQuery	 -->
		<script src="plugins/jQuery/jquery-2.2.3.min.js"></script>
		
		<!-- jQuery-UI -->
		<script src="plugins/jQueryUI/jquery-ui.min.js"></script>
		
		<!-- Bootstrap 3.3.6 -->
		<link rel="stylesheet" href="plugins/bootstrap-3.3.6/css/bootstrap.min.css" />
		<script src="plugins/bootstrap-3.3.6/js/bootstrap.min.js"></script>
		
		<!-- AdminLTE App -->
		<!-- <link rel="stylesheet" href="plugins/AdminLTE-2.3.11/css/AdminLTE.min.css" />
		<link rel="stylesheet" href="plugins/AdminLTE-2.3.11/css/skins/_all-skins.min.css" />
		<script src="plugins/AdminLTE-2.3.11/js/app.min.js"></script> -->
		
		<!-- DataTables -->
		<!-- <script src="plugins/datatables/jquery.dataTables.min.js"></script>
		<script src="plugins/datatables/dataTables.bootstrap.min.js"></script> -->
		
		<!-- Slimscroll -->
		<!-- <script src="plugins/slimScroll/jquery.slimscroll.min.js"></script> -->
		
		<!-- bootstrap-fileinput -->
		<!-- <link href="plugins/bootstrap-fileinput/css/fileinput.css" media="all" rel="stylesheet" type="text/css" />
		<link href="plugins/bootstrap-fileinput/themes/explorer/theme.css" media="all" rel="stylesheet" type="text/css" />
		<script src="plugins/bootstrap-fileinput/js/plugins/sortable.js" type="text/javascript"></script>
		<script src="plugins/bootstrap-fileinput/js/fileinput.js" type="text/javascript"></script>
		<script src="plugins/bootstrap-fileinput/themes/explorer/theme.js" type="text/javascript"></script>
		<script src="plugins/bootstrap-fileinput/js/locales/zh.js" type="text/javascript"></script> -->
		
		<!-- icheck -->
		<!-- <link rel="stylesheet" href="plugins/iCheck/all.css">
		<script src="plugins/iCheck/icheck.min.js"></script> -->
		
		<!-- Select 2 -->
		<!-- <link href="plugins/select2/select2.min.css" rel="stylesheet" />
		<link href="plugins/select2/select2-bootstrap.css" rel="stylesheet" />
		<script src="plugins/select2/select2.full.min.js"></script>
		<script src="plugins/select2/i18n/zh-CN.js"></script> -->
		
		<!-- JQuery Confirm -->
		<!-- <link rel="stylesheet" href="plugins/jquery-confirm/jquery-confirm.min.css">
		<script src="plugins/jquery-confirm/jquery-confirm.min.js"></script> -->
		
		<!-- Google Font -->
		<link href="plugins/material-icons/icon.css" rel="stylesheet">
		
		<!-- Font Awesome -->
		<link rel="stylesheet" href="plugins/font-awesome-4.7.0/css/font-awesome.min.css" />
		
		<!-- bootstrap-wysiwyg -->
		<!-- <link href="plugins/bootstrap-wysiwyg/external/google-code-prettify/prettify.css" rel="stylesheet">
		<script src="plugins/bootstrap-wysiwyg/external/jquery.hotkeys.js"></script>
		<script src="plugins/bootstrap-wysiwyg/external/google-code-prettify/prettify.js"></script>
		<script src="plugins/bootstrap-wysiwyg/bootstrap-wysiwyg.js"></script> -->
		
		
		<!-- <link href="plugins/contextMenu.js-master/contextMenu.min.css" rel="stylesheet">
		<script src="plugins/contextMenu.js-master/contextMenu.js"></script> -->
		
		<!-- jquery download -->
		<!-- <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/themes/ui-lightness/jquery-ui.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="plugins/jquery-download/Content/Site.css" rel="stylesheet" type="text/css" /> -->
		<!-- <script src="plugins/jquery-download/Scripts/jquery.fileDownload.js" type="text/javascript"></script> -->
		<!-- <script type="text/javascript" src="plugins/jquery-download/Scripts/Support/shCore.js"></script>
		<script type="text/javascript" src="plugins/jquery-download/Scripts/Support/shBrushJScript.js"></script>
		<script type="text/javascript" src="plugins/jquery-download/Scripts/Support/shBrushXml.js"></script>
		<link type="text/css" rel="stylesheet" href="plugins/jquery-download/Content/shCoreDefault.css" />
		<script type="text/javascript" src="plugins/jquery-download/Scripts/Support/jquery.gritter.min.js"></script>
		<link type="text/css" rel="stylesheet" href="plugins/jquery-download/Content/jquery.gritter.css" /> -->
		
		

		<!-- 全局css -->
		<link href="css_template/global.css" rel="stylesheet">
		<link href="css_template/template.css" rel="stylesheet">
		
		<script type="text/javascript" src="js_template/module.js"></script>
		
	</head>
    
	<body class="customized-scrollbar">
		<!-- 模态框（Modal） -->
		<div class="modal fade" id="templateEditor">
			<div class="modal-dialog"  style="width:60vw;">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">
							&times;
						</button>
						<h4 class="modal-title">
							模板编辑
						</h4>
					</div>
					<div class="modal-body">
						<nav class="navbar navbar-default">
							<div class="container-fluid"> 
							<div class="navbar-header">
								<button type="button" class="navbar-toggle" data-toggle="collapse"
										data-target="#example-navbar-collapse">
									<span class="sr-only">切换导航</span>
									<span class="icon-bar"></span>
									<span class="icon-bar"></span>
									<span class="icon-bar"></span>
								</button>
								<span class="navbar-brand"><i class="fa fa-chain"></i></span>
							</div>
							<div class="collapse navbar-collapse" id="example-navbar-collapse">
								<ul class="nav navbar-nav">
									<li><a href="#" data-action="createRadio"><i class="fa fa-check-circle-o"></i> 单项</a></li>
									<li><a href="#" data-action="createCheckbox"><i class="fa fa-check-square-o"></i> 多项</a></li>
									<li><a href="#" data-action="createTextarea"><i class="fa fa-pencil"></i> 填空</a></li>
									<li><a href="#" data-action="createDropdown"><i class="fa fa-list"></i> 下拉框</a></li>
									<li><a href="#" data-action="createFile"><i class="fa fa-file-text-o"></i> 上传文件</a></li>
									<li class="dropdown">
										<a href="#" class="dropdown-toggle" data-toggle="dropdown">
											其它 <b class="caret"></b>
										</a>
										<ul class="dropdown-menu">
											<li><a href="#">其它</a></li>
											<li class="divider"></li>
											<li><a href="#">其它</a></li>
										</ul>
									</li>
								</ul>
							</div>
							</div>
						</nav>
						
						<div id="templateList" class="customized-scrollbar" style="height: 60vh; overflow-y: auto;">
							
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-action="submit">
							提交
						</button>
						<button type="button" class="btn btn-default" data-dismiss="modal">关闭
						</button>
						
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal -->
		</div>
		
		
		<script>
		$('#templateEditor').modal('show');
		
		$( "#templateList" ).sortable({
			handle: ".question",
      placeholder: "template-placeholder",
			update: function( event, ui ) {
				renumbering();
			}
    });
		
    $( "#templateList" ).disableSelection();
		
		
		// 事件监听
		// 1. 添加单选
		$('[data-action="createRadio"]').on('click', function(){
			clearActive();
			var $item = generateRadio('', ['选项一','选项二'], true);
			$('#templateList').append($item);
			$("#templateList").scrollTop($("#templateList")[0].scrollHeight);	
			renumbering();
		});
		
		// 2. 添加多选
		$('[data-action="createCheckbox"]').on('click', function(){
			clearActive();
			var $item = generateCheck('', ['选项一','选项二'], true);
			$('#templateList').append($item);
			$("#templateList").scrollTop($("#templateList")[0].scrollHeight);	
			renumbering();
		});
			
		// 3. 填空
		$('[data-action="createTextarea"]').on('click', function(){
			clearActive();
			var $item = generateInput('', true);
			$('#templateList').append($item);
			$("#templateList").scrollTop($("#templateList")[0].scrollHeight);	
			renumbering();
		});
		
		// 4. 下拉框
		$('[data-action="createDropdown"]').on('click', function(){
			clearActive();
			var $item = generateDropdown('', ['选项一','选项二'], true);
			$('#templateList').append($item);
			$("#templateList").scrollTop($("#templateList")[0].scrollHeight);	
			renumbering();
		});
		
		// 5. 上传文件
		$('[data-action="createFile"]').on('click', function(){
			clearActive();
			var $item = generateFile('', true);
			$('#templateList').append($item);
			$("#templateList").scrollTop($("#templateList")[0].scrollHeight);	
			renumbering();
		});
		
		// 6. 提交
		$('[data-action="submit"]').on('click', function(){
			var json = getTemplateJson();
			console.log(json);
		});
		
		/*
		// 通过json加载以后问题
		
		var testJson = [
			{type: "radio", title: "请输入问题", radios: ['选项一', '选项二']},
			{type: "check", title: "请输入问题", radios:  ['选项一', '选项二']},
			{type: "input", title: "请输入问题"},
			{type: "check", title: "请输入问题", radios:  ['选项一', '选项二']},
			{type: "file", title: "请输入问题"}
		];

		loadJson(testJson);
		*/
		</script>
	</body>
</html>


